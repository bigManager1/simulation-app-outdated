(this["webpackJsonpsimulation-app"]=this["webpackJsonpsimulation-app"]||[]).push([[0],{12:function(e,t,n){},29:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(23),a=n.n(i),o=(n(29),n.p,n(12),n(4)),s=n.n(o),l=n(5),u=n.n(l),h=n(11),d=n(3),p=n(24),j=n(1);var b=function(){var e="https://shrouded-hamlet-51189.herokuapp.com",t=Array.from(Array(100).keys()),n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)([]),l=Object(d.a)(o,2),b=l[0],f=l[1],O=Object(c.useState)([]),v=Object(d.a)(O,2),x=v[0],g=v[1],m=Object(c.useState)([]),k=Object(d.a)(m,2),S=(k[0],k[1]),w=Object(c.useState)("0.0"),C=Object(d.a)(w,2),y=C[0],F=C[1];function I(){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get(e+"/pins").then((function(e){return g(e.data)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get(e+"/sensors").then((function(e){return S(e.data)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){s.a.patch(e+"/sensors/heightSensor",{sensorValue:t}).catch((function(e){return console.log("Error: ",e)})),b.push(t),function(){E.apply(this,arguments)}()}return Object(c.useEffect)((function(){I();var e=null;return i?e=setInterval((function(){return P(y)}),1e3):clearInterval(e),function(){return clearInterval(e)}}),[i,y]),Object(j.jsxs)("div",{class:"main",children:[Object(j.jsxs)("div",{class:"half",children:[Object(j.jsx)("h1",{children:"Pin simulation"}),Object(j.jsxs)("p",{children:['The boolean value of the pin is rendered from the api (via GET call). If the value happens to be "true", then we can see the pin is ',Object(j.jsx)("b",{children:"On"})," and vice versa. When the button is clicked, an api call is made to update the value to an opposite boolean value."]}),x.map((function(t){return Object(j.jsx)("ul",{class:"pinDisplay",children:Object(j.jsxs)("ul",{children:["Pin ",t.pinName," is",t.pinValue?Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"On"}),Object(j.jsx)("button",{class:"off",onClick:function(){return n=t.pinName,s.a.patch(e+"/pins/"+n,{pinValue:!1}).catch((function(e){return console.log("Error: ",e)})),void I();var n},children:"Double click to Turn off"})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("b",{children:"Off"}),Object(j.jsx)("button",{class:"on",onClick:function(){return n=t.pinName,s.a.patch(e+"/pins/"+n,{pinValue:!0}).catch((function(e){return console.log("Error: ",e)})),void I();var n},children:"Double click to Turn on"})]})]},t.id)})}))]}),Object(j.jsxs)("div",{class:"half",children:[Object(j.jsx)("h1",{children:"Sensor simulation"}),Object(j.jsx)("p",{children:"Instead of a temperature sensor, the following simulation will measure the position of the y coordinate of the mouse at a specified field (below). Clicking the button will trigger a panel to open up - every second the y coordinate of the cursor with regards to the panel is collected and the sensor value is changed in the API (via a PATCH call). The process will last for 10 seconds. A CSV file containing the values can then be downloaded."}),Object(j.jsx)("button",{onClick:function(){a(!0)},children:"Start"}),Object(j.jsx)("button",{onClick:function(){return f([]),void a(!1)},children:"Stop"}),Object(j.jsx)(p.CSVLink,{data:b.toString(),children:"Download the changes"}),Object(j.jsxs)("p",{children:["Current sensor value: ",y]}),Object(j.jsxs)("p",{children:["Current collected information ",b.toString()]}),t.map((function(e){return Object(j.jsx)("div",{style:{backgroundColor:"rgba(200, 0, 0,"+parseFloat((e/100).toFixed(2)).toString()+")",height:"2px"},class:"strip",onMouseOver:function(){return t=parseFloat((e/100).toFixed(2)),void F(t);var t},children:e%10==0?Object(j.jsxs)("small",{children:["0.",e]}):null})}))]})]})};var f=function(){return Object(j.jsx)("div",{class:"main",children:Object(j.jsx)(b,{})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},v=n(10);a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v.a,{children:Object(j.jsx)(f,{})})}),document.getElementById("root")),O()}},[[56,1,2]]]);
//# sourceMappingURL=main.cb549226.chunk.js.map